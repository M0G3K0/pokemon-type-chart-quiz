---
description: 画面（UI）作成時のワークフロー - コンポーネント選択とバリアント決定
---

# 画面作成ワークフロー

このワークフローは、UIの画面やセクションを作成する際に、デザインシステムのコンポーネントを適切に使用するための手順を定義します。

---

## 原則

1. **ドキュメント駆動**: コンポーネントを使用する前に、必ず NgDoc の Guidelines を参照する
2. **用途ベース選択**: バリアントはデフォルトではなく、用途に基づいて選択する
3. **アンチパターン回避**: 「When NOT to use」に該当しないことを確認する

---

## Step 0: MAGI照会（必須）🔺

// turbo
```bash
cat MAGI/MELCHIOR.md
```

特に確認すべき点:
- コンポーネントカタログ（全13種の用途一覧）
- トークン階層（Tier 3のみ使用ルール）

---

## Step 1: 画面の用途を明確化

作成する画面/セクションの**目的**を明確にする：

- [ ] この画面の主な目的は何か？（例: クイズ出題、結果表示、設定変更）
- [ ] ユーザーに期待するアクションは何か？（例: 選択、確認、入力）
- [ ] 情報の優先度は？（何が最も重要か）

---

## Step 2: コンポーネント選択

### 2.1 NgDoc を参照

```
projects/docs/src/components/*/index.md
```

各コンポーネントの **Guidelines** タブを参照し、以下を確認：

1. **When to use** に該当するか
2. **When NOT to use** に該当しないか
3. 類似コンポーネントとの **使い分け表** を確認

### 2.2 コンポーネントカテゴリ

| カテゴリ | 確認すべき Guidelines |
|---------|---------------------|
| レイアウト | stack, grid, surface, card |
| テキスト | heading, text |
| アクション | button, radio-button |
| ビジュアル | avatar, icon, chip, type-chip, spinner |

**注意**: 新しいコンポーネントが追加された場合は、`projects/docs/src/components/` ディレクトリを確認してください。

---

## Step 3: バリアント決定

各コンポーネントの **Guidelines** 内の「○○ 選択ガイド」セクションを参照：

### 3.1 決定の手順

1. 「**使用する場面**」に該当するものを選択
2. 「**使用しない場面**」に該当していないことを確認
3. コード例を参考に実装

### 3.2 判断に迷った場合

| 状況 | 対応 |
|------|------|
| ドキュメントに用途が書いていない | デフォルト値を使用 |
| 複数の用途に該当する | より具体的な用途を優先 |
| どちらとも言えない | Issue で議論し、ドキュメントに追記 |

---

## Step 4: 出撃シーケンス（セルフレビュー + 検証）🔺

> 冬月: 「エヴァ初号機、発進準備に入れ」

### 🔬 リツコ（デザイン整合性チェック）

- [ ] 各コンポーネントの `variant` / `size` は Guidelines に基づいて選択したか
- [ ] アンチパターン（When NOT to use）に該当していないか
- [ ] Tier 3 トークンのみ使用しているか

// turbo
```bash
npm run lint:css
```

> リツコ: 「MAGIに照会……問題なし / **パターン青！使徒です！**」

### 🎖️ ミサト（コード品質 + アクセシビリティ）

- [ ] アクセシビリティ要件を満たしているか
- [ ] 関連コンポーネントとの使い分けは適切か

// turbo
```bash
npm run lint
```

### 🔥 アスカ（テスト）

// turbo
```bash
npm test
```

### 発進判定

```
→ 全チェック通過の場合:
  ミサト: 「エヴァ初号機、発進！！！🔺」

→ いずれか失敗の場合:
  冬月: 「シンクロ率低下！発進中止！」
  → 該当箇所を修正し、再実行
```

---

## 参照ドキュメント

- **MAGI**: `MAGI/MELCHIOR.md`（コンポーネントカタログ）
- **NgDoc Guidelines**: `projects/docs/src/components/*/index.md`
- **設計決定**: `docs/decisions/*.md`
