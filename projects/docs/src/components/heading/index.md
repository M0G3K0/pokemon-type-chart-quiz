---
title: Guidelines
---

> コンテンツの階層構造を定義するタイポグラフィコンポーネント

## Overview

`pt-heading`は、セマンティックなHTML見出し要素（h1-h6）を出力し、一貫したタイポグラフィスタイリングを提供するAtomレベルのコンポーネントです。オプションでアクセントバー（左側の縦棒）を表示し、セクションの開始を視覚的に強調できます。

**重要**: セマンティックレベル（`level`）と視覚的サイズ（`size`）は分離しています。

## When to use ✅

| シチュエーション | 説明 |
|------------------|------|
| **ページコンテンツに構造を与えたい** | セクションを区切り、スキャンしやすくする |
| **スクリーンリーダーへのナビゲーション提供** | 見出し要素はランドマークとして機能 |
| **セクションの開始を明示** | 質問文もセクション開始のHeadingとして適切 |

## When not to use ❌ (Anti-patterns)

| アンチパターン | 理由 | 代替案 |
|----------------|------|--------|
| **ラベルやキャプション** | セクション開始でない | `<label>`や`pt-text` |
| **装飾目的での大きな文字** | ドキュメント構造が壊れる | `pt-text`でweight指定 |
| **リスト項目のタイトル** | 見出しが多すぎる | `<strong>`または`<dt>` |
| **ナビゲーションリンク内** | 見出しはリンク内に含めない | `<a>`+スタイル |

---

## Level と Size の分離設計

> 参照: [Avatar/Heading 設計ガイド](../../decisions/avatar-heading-guide.md)

`pt-heading` は**セマンティックレベル（level）**と**視覚的サイズ（size）**を分離しています。

### なぜ分離するのか？

1. **アクセシビリティ**: スクリーンリーダーは `level` から見出し階層を認識
2. **デザインの柔軟性**: h3 でも視覚的に大きく表示できる
3. **既存コンテンツとの互換性**: レイアウト制約で見出し階層を変えられない場合に対応

---

## Level 選択ガイド

| Level | HTML出力 | 用途 |
|-------|----------|------|
| `1` | `<h1>` | **ページタイトル**（1ページに1つのみ） |
| `2` | `<h2>` | **セクションタイトル** |
| `3` | `<h3>` | **ブロックタイトル**、カード内タイトル |
| `4-6` | `<h4-h6>` | **サブ見出し**、補足的なグループ |

### ⚠️ Level の決め方

**コンテンツの論理構造**に基づいて決める。視覚的なサイズで決めない。

```html
<!-- ✅ 良い例: 論理構造に基づく -->
<pt-heading [level]="1">ポケモンタイプクイズ</pt-heading>
<pt-heading [level]="2">問題 1</pt-heading>
<pt-heading [level]="3">わざのダメージ倍率は？</pt-heading>

<!-- ❌ 悪い例: 見た目で選ぶ -->
<pt-heading [level]="3">ポケモンタイプクイズ</pt-heading> <!-- h1 にすべき -->
```

---

## Size 選択ガイド

| Size | フォントサイズ | デフォルト Level | 用途 |
|------|---------------|-----------------|------|
| `xl` | 36px | 1 | 画面タイトル |
| `lg` | 24px | 2 | セクションタイトル |
| `md` | 20px | 3 | ブロックタイトル |
| `sm` | 18px | 4-6 | サブ見出し |

### Size をオーバーライドするパターン

```html
<!-- パターン1: デフォルト（level から size を自動推論） -->
<pt-heading [level]="2">セクションタイトル</pt-heading>
<!-- → h2 + lg サイズ -->

<!-- パターン2: 視覚的に小さく表示したいが h2 を維持 -->
<pt-heading [level]="2" size="sm">サブセクション</pt-heading>
<!-- → h2 + sm サイズ（アクセシビリティ上は h2、視覚的に控えめ） -->

<!-- パターン3: 視覚的に大きく表示したいが h3 を維持 -->
<pt-heading [level]="3" size="lg">重要なブロック</pt-heading>
<!-- → h3 + lg サイズ（既存の見出し階層を壊さず強調） -->
```

---

## Accent 選択ガイド

### Accent あり

**使用する場面:**
- **重要なセクションの開始**
- 質問文などの強調
- 視覚的なアクセントが必要

```html
<pt-heading [level]="2" [accent]="true">
  わざのダメージ倍率は？
</pt-heading>
```

### Accent なし（デフォルト）

**使用する場面:**
- 通常の見出し
- カード内のタイトル
- リスト項目の見出し

```html
<pt-heading [level]="3">
  ブロックタイトル
</pt-heading>
```

---

## Accessibility

- ✅ 適切な見出しレベル: h1-h6を正しく出力
- ✅ 見出しの順序: h1 → h2 → h3の順番を飛ばさない
- ✅ アクセントバーは`aria-hidden="true"`でスクリーンリーダーに影響しない
- ✅ 1ページ1回のh1: 画面タイトル（level=1）は1ページに1回のみ

## Related Components

- `pt-text`: 本文・ラベル・補助テキスト用のタイポグラフィ
- `pt-card-header`: カード内の見出しエリア
