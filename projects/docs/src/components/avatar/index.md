---
title: Guidelines
---

> 画像を表示するためのアバターコンポーネント

## Overview

`pt-avatar`は、ユーザープロフィール画像、サムネイル、アイコン的な画像表示に使用するMoleculeレベルのコンポーネントです。ピクセルアート表示（レトロゲームのスプライトなど）にも対応しています。

**責務**: 画像のサイズ・形状・ピクセルアート対応のみ  
**責務外**: 背景色・シャドウ（→ pt-surfaceで対応）

## When to use ✅

| シチュエーション | 説明 |
|------------------|------|
| **ユーザーやアイテムの画像** | ユーザープロフィールやポケモン画像を表示する |
| **サムネイル** | 統一されたサイズで画像を表示する |
| **ピクセルアート** | ドット絵を鮮明（`image-rendering: pixelated`）に表示する |

## When not to use ❌ (Anti-patterns)

| アンチパターン | 理由 | 代替案 |
|----------------|------|--------|
| **装飾的な背景画像** | アバターは単一画像の表示向け | 通常の`<img>`やCSS backgroundを使用 |
| **SVGアイコン** | アイコンはアバターとは責務が異なる | `pt-icon`を使用 |
| **背景色・シャドウが必要** | 装飾はアバターの責務外 | `pt-surface`でラップ |

---

## Shape 選択ガイド

> 参照: [Avatar/Heading 設計ガイド](../../decisions/avatar-heading-guide.md)

### Circle

**使用する場面:**
- **ユーザーアバター**（SNSプロフィールなど）
- 円形に切り抜きたい画像
- 人物・キャラクターの顔写真

**使用しない場面:**
- ピクセルアート（シャープなエッジが失われる）
- 透明背景画像（円形が見えにくい）

```html
<pt-avatar src="user.jpg" shape="circle" size="md"></pt-avatar>
```

### Rounded

**使用する場面:**
- **サムネイル画像**
- モダンな印象を与えたい
- 角丸で柔らかい印象が必要

**使用しない場面:**
- ピクセルアート
- 完全な円形が必要な場合

```html
<pt-avatar src="thumbnail.jpg" shape="rounded" size="lg"></pt-avatar>
```

### Square

**使用する場面:**
- **ピクセルアート・ドット絵**
- シャープなエッジを保持したい
- レトロゲーム風の表現

**使用しない場面:**
- 人物写真（固い印象になる）

```html
<!-- ✅ ポケモンスプライト向け推奨設定 -->
<pt-avatar 
  [src]="pokemon.imageUrl"
  shape="square" 
  size="lg"
  [pixelated]="true">
</pt-avatar>
```

---

## Size 選択ガイド

| サイズ | 値 | 用途 |
|--------|------|------|
| `sm` | 32px | リスト内のアイコン、インライン表示 |
| `md` | 48px | 標準的なアバター、カード内サブ画像 |
| `lg` | 80px | カード内メイン画像、プロフィール |
| `xl` | 120px | フルスクリーンプロフィール、ヒーロー画像 |

---

## 透明背景画像の注意

ポケモンスプライトなど**透明背景**を持つ画像では、`shape` プロパティ（circle/rounded/square）の違いが見えにくくなります。

### NgDoc Demo での対策

NgDoc の Examples では、背景色付きの `::ng-deep` スタイルでラップすることで、各 shape の違いを視覚的に確認できるようにしています：

```scss
::ng-deep pt-avatar {
  background-color: var(--pt-color-gray-200);
}
```

### 本番コードでの対策

- `pt-surface` でラップして背景色を付与
- または透明背景でない画像（JPEGなど）を使用

---

## Accessibility

- `alt`属性は**必須**です（アクセシビリティのため）
- 装飾的な画像には`alt=""`を使用
- `loading="lazy"`によるパフォーマンス最適化が適用されます

## Related Components

- `pt-icon`: SVGアイコン表示（Atom）
- `pt-surface`: 背景色・シャドウなどのコンテナスタイリング
